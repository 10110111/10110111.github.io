<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="icon" type="image/png" href="logo.png"/>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CalcMySky: AtmosphereRenderer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CalcMySky
   &#160;<span id="projectnumber">v0.3.0-5-g8bc5cab</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classAtmosphereRenderer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AtmosphereRenderer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for AtmosphereRenderer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classAtmosphereRenderer.png" usemap="#AtmosphereRenderer_map" alt=""/>
  <map id="AtmosphereRenderer_map" name="AtmosphereRenderer_map">
<area href="classShowMySky_1_1AtmosphereRenderer.html" alt="ShowMySky::AtmosphereRenderer" shape="rect" coords="0,0,208,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a59f35826e0dd8ece09aeb8653c7dc28d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a59f35826e0dd8ece09aeb8653c7dc28d">AtmosphereRenderer</a> (QOpenGLFunctions_3_3_Core &amp;gl, QString const &amp;pathToData, <a class="el" href="classShowMySky_1_1Settings.html">ShowMySky::Settings</a> *tools, std::function&lt; void(QOpenGLShaderProgram &amp;shprog)&gt; const &amp;drawSurface)</td></tr>
<tr class="separator:a59f35826e0dd8ece09aeb8653c7dc28d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1a4569eb2ce5f549fb7802a2a1b1dc9"><td class="memItemLeft" align="right" valign="top"><a id="ae1a4569eb2ce5f549fb7802a2a1b1dc9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AtmosphereRenderer</b> (<a class="el" href="classAtmosphereRenderer.html">AtmosphereRenderer</a> const &amp;)=delete</td></tr>
<tr class="separator:ae1a4569eb2ce5f549fb7802a2a1b1dc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e404023e42e2de88c9bad5a28cb8fbe"><td class="memItemLeft" align="right" valign="top"><a id="a2e404023e42e2de88c9bad5a28cb8fbe"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>AtmosphereRenderer</b> (<a class="el" href="classAtmosphereRenderer.html">AtmosphereRenderer</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a2e404023e42e2de88c9bad5a28cb8fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fbc8368a0e809ecbd10b6fe107ed4dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a9fbc8368a0e809ecbd10b6fe107ed4dc">setDrawSurfaceCallback</a> (std::function&lt; void(QOpenGLShaderProgram &amp;shprog)&gt; const &amp;drawSurface) override</td></tr>
<tr class="memdesc:a9fbc8368a0e809ecbd10b6fe107ed4dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the callback that will draw the screen surface.  <a href="#a9fbc8368a0e809ecbd10b6fe107ed4dc">More...</a><br /></td></tr>
<tr class="separator:a9fbc8368a0e809ecbd10b6fe107ed4dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11c3eb63ab50dbf137a94145a8647d11"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a11c3eb63ab50dbf137a94145a8647d11">initDataLoading</a> (QByteArray viewDirVertShaderSrc, QByteArray viewDirFragShaderSrc, std::vector&lt; std::pair&lt; std::string, GLuint &gt;&gt; viewDirBindAttribLocations) override</td></tr>
<tr class="memdesc:a11c3eb63ab50dbf137a94145a8647d11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize step-by-step process of loading of data.  <a href="#a11c3eb63ab50dbf137a94145a8647d11">More...</a><br /></td></tr>
<tr class="separator:a11c3eb63ab50dbf137a94145a8647d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a312355e92b37feae28f1fe5dd6799625"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a312355e92b37feae28f1fe5dd6799625">setViewDirShaders</a> (QByteArray viewDirVertShaderSrc, QByteArray viewDirFragShaderSrc, std::vector&lt; std::pair&lt; std::string, GLuint &gt;&gt; viewDirBindAttribLocations) override</td></tr>
<tr class="memdesc:a312355e92b37feae28f1fe5dd6799625"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace the current view direction shaders with a new set.  <a href="#a312355e92b37feae28f1fe5dd6799625">More...</a><br /></td></tr>
<tr class="separator:a312355e92b37feae28f1fe5dd6799625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab883a6c0ebf068f47f4ba3a5e81968e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structShowMySky_1_1AtmosphereRenderer_1_1LoadingStatus.html">LoadingStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#ab883a6c0ebf068f47f4ba3a5e81968e5">stepDataLoading</a> () override</td></tr>
<tr class="memdesc:ab883a6c0ebf068f47f4ba3a5e81968e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a single step of data loading.  <a href="#ab883a6c0ebf068f47f4ba3a5e81968e5">More...</a><br /></td></tr>
<tr class="separator:ab883a6c0ebf068f47f4ba3a5e81968e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ffc3caaf58cf055c627ae9f40ec25a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a01ffc3caaf58cf055c627ae9f40ec25a">initPreparationToDraw</a> () override</td></tr>
<tr class="memdesc:a01ffc3caaf58cf055c627ae9f40ec25a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize step-by-step process of preparation to render.  <a href="#a01ffc3caaf58cf055c627ae9f40ec25a">More...</a><br /></td></tr>
<tr class="separator:a01ffc3caaf58cf055c627ae9f40ec25a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22303d42859fa80ce0223f1361888035"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structShowMySky_1_1AtmosphereRenderer_1_1LoadingStatus.html">LoadingStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a22303d42859fa80ce0223f1361888035">stepPreparationToDraw</a> () override</td></tr>
<tr class="memdesc:a22303d42859fa80ce0223f1361888035"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a single step of preparation to draw.  <a href="#a22303d42859fa80ce0223f1361888035">More...</a><br /></td></tr>
<tr class="separator:a22303d42859fa80ce0223f1361888035"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e8ceef42a100a95a5613b3e852cf7e"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a72e8ceef42a100a95a5613b3e852cf7e">currentActivity</a> () const override</td></tr>
<tr class="memdesc:a72e8ceef42a100a95a5613b3e852cf7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a string describing current activity.  <a href="#a72e8ceef42a100a95a5613b3e852cf7e">More...</a><br /></td></tr>
<tr class="separator:a72e8ceef42a100a95a5613b3e852cf7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba975056142f0ccab7494b347006546"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a8ba975056142f0ccab7494b347006546">isLoading</a> () const override</td></tr>
<tr class="memdesc:a8ba975056142f0ccab7494b347006546"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell whether the renderer is in process of loading data.  <a href="#a8ba975056142f0ccab7494b347006546">More...</a><br /></td></tr>
<tr class="separator:a8ba975056142f0ccab7494b347006546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12a835864d8fe8cbd91a577613af1461"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a12a835864d8fe8cbd91a577613af1461">isReadyToRender</a> () const override</td></tr>
<tr class="memdesc:a12a835864d8fe8cbd91a577613af1461"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell whether the renderer is ready for a <a class="el" href="classAtmosphereRenderer.html#a282137759e06a491c78e881d357aaf9b" title="Do the drawing.">draw</a> call.  <a href="#a12a835864d8fe8cbd91a577613af1461">More...</a><br /></td></tr>
<tr class="separator:a12a835864d8fe8cbd91a577613af1461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63605f7566ea296dc642d15b3cf135a2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a63605f7566ea296dc642d15b3cf135a2">canGrabRadiance</a> () const override</td></tr>
<tr class="memdesc:a63605f7566ea296dc642d15b3cf135a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell whether radiance of a pixel can be queried.  <a href="#a63605f7566ea296dc642d15b3cf135a2">More...</a><br /></td></tr>
<tr class="separator:a63605f7566ea296dc642d15b3cf135a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bd1c96f64d1ce5334bff62575e8c6ed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a1bd1c96f64d1ce5334bff62575e8c6ed">canSetSolarSpectrum</a> () const override</td></tr>
<tr class="memdesc:a1bd1c96f64d1ce5334bff62575e8c6ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell whether solar spectrum can be changed.  <a href="#a1bd1c96f64d1ce5334bff62575e8c6ed">More...</a><br /></td></tr>
<tr class="separator:a1bd1c96f64d1ce5334bff62575e8c6ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89ae69fd6ef8113e27a967491de5514b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a89ae69fd6ef8113e27a967491de5514b">canRenderPrecomputedEclipsedDoubleScattering</a> () const override</td></tr>
<tr class="memdesc:a89ae69fd6ef8113e27a967491de5514b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell whether precomputed eclipsed double scattering can be rendered.  <a href="#a89ae69fd6ef8113e27a967491de5514b">More...</a><br /></td></tr>
<tr class="separator:a89ae69fd6ef8113e27a967491de5514b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18aa6ae8e8c4c40adde5449ee617106f"><td class="memItemLeft" align="right" valign="top">GLuint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a18aa6ae8e8c4c40adde5449ee617106f">getLuminanceTexture</a> () override</td></tr>
<tr class="memdesc:a18aa6ae8e8c4c40adde5449ee617106f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get OpenGL name of the luminance render target.  <a href="#a18aa6ae8e8c4c40adde5449ee617106f">More...</a><br /></td></tr>
<tr class="separator:a18aa6ae8e8c4c40adde5449ee617106f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a282137759e06a491c78e881d357aaf9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a282137759e06a491c78e881d357aaf9b">draw</a> (double brightness, bool clear) override</td></tr>
<tr class="memdesc:a282137759e06a491c78e881d357aaf9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do the drawing.  <a href="#a282137759e06a491c78e881d357aaf9b">More...</a><br /></td></tr>
<tr class="separator:a282137759e06a491c78e881d357aaf9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a524cdcde73031292b534c17e4e2e874a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a524cdcde73031292b534c17e4e2e874a">resizeEvent</a> (int width, int height) override</td></tr>
<tr class="memdesc:a524cdcde73031292b534c17e4e2e874a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update render target size.  <a href="#a524cdcde73031292b534c17e4e2e874a">More...</a><br /></td></tr>
<tr class="separator:a524cdcde73031292b534c17e4e2e874a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd0991f86e5ec95f8e43c2f901afb0b0"><td class="memItemLeft" align="right" valign="top">QVector4D&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#afd0991f86e5ec95f8e43c2f901afb0b0">getPixelLuminance</a> (QPoint const &amp;pixelPos) override</td></tr>
<tr class="memdesc:afd0991f86e5ec95f8e43c2f901afb0b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get luminance of a pixel.  <a href="#afd0991f86e5ec95f8e43c2f901afb0b0">More...</a><br /></td></tr>
<tr class="separator:afd0991f86e5ec95f8e43c2f901afb0b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a4dd029984f7addad5c8021b8e2c949"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structShowMySky_1_1AtmosphereRenderer_1_1SpectralRadiance.html">SpectralRadiance</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a9a4dd029984f7addad5c8021b8e2c949">getPixelSpectralRadiance</a> (QPoint const &amp;pixelPos) override</td></tr>
<tr class="memdesc:a9a4dd029984f7addad5c8021b8e2c949"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get spectral radiance of a pixel.  <a href="#a9a4dd029984f7addad5c8021b8e2c949">More...</a><br /></td></tr>
<tr class="separator:a9a4dd029984f7addad5c8021b8e2c949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a114c0268e2c9e20063756ba3c30db11b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a114c0268e2c9e20063756ba3c30db11b">getWavelengths</a> () override</td></tr>
<tr class="memdesc:a114c0268e2c9e20063756ba3c30db11b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the wavelengths used in computations.  <a href="#a114c0268e2c9e20063756ba3c30db11b">More...</a><br /></td></tr>
<tr class="separator:a114c0268e2c9e20063756ba3c30db11b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9123391205459d61a0591df04bb04a86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a9123391205459d61a0591df04bb04a86">setSolarSpectrum</a> (std::vector&lt; float &gt; const &amp;solarIrradianceAtTOA) override</td></tr>
<tr class="memdesc:a9123391205459d61a0591df04bb04a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a custom solar spectrum.  <a href="#a9123391205459d61a0591df04bb04a86">More...</a><br /></td></tr>
<tr class="separator:a9123391205459d61a0591df04bb04a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af160066fc979dcb84cefaeda54925aa8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#af160066fc979dcb84cefaeda54925aa8">resetSolarSpectrum</a> () override</td></tr>
<tr class="memdesc:af160066fc979dcb84cefaeda54925aa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset solar spectrum to the default.  <a href="#af160066fc979dcb84cefaeda54925aa8">More...</a><br /></td></tr>
<tr class="separator:af160066fc979dcb84cefaeda54925aa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a323e0e900ea0fe800586b0de1e8441df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structShowMySky_1_1AtmosphereRenderer_1_1Direction.html">Direction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a323e0e900ea0fe800586b0de1e8441df">getViewDirection</a> (QPoint const &amp;pixelPos) override</td></tr>
<tr class="memdesc:a323e0e900ea0fe800586b0de1e8441df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get view direction of a pixel.  <a href="#a323e0e900ea0fe800586b0de1e8441df">More...</a><br /></td></tr>
<tr class="separator:a323e0e900ea0fe800586b0de1e8441df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b68ac9aa440f6ffba59d90f811e3ba5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a5b68ac9aa440f6ffba59d90f811e3ba5">setScattererEnabled</a> (QString const &amp;name, bool enable) override</td></tr>
<tr class="memdesc:a5b68ac9aa440f6ffba59d90f811e3ba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or disable a single-scattering layer.  <a href="#a5b68ac9aa440f6ffba59d90f811e3ba5">More...</a><br /></td></tr>
<tr class="separator:a5b68ac9aa440f6ffba59d90f811e3ba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03ba3bd83dff5408dc008f507ace3ac0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a03ba3bd83dff5408dc008f507ace3ac0">initShaderReloading</a> () override</td></tr>
<tr class="memdesc:a03ba3bd83dff5408dc008f507ace3ac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize step-by-step process of reloading of shaders.  <a href="#a03ba3bd83dff5408dc008f507ace3ac0">More...</a><br /></td></tr>
<tr class="separator:a03ba3bd83dff5408dc008f507ace3ac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a683ff601529c9b877991491eb4255236"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structShowMySky_1_1AtmosphereRenderer_1_1LoadingStatus.html">LoadingStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAtmosphereRenderer.html#a683ff601529c9b877991491eb4255236">stepShaderReloading</a> () override</td></tr>
<tr class="memdesc:a683ff601529c9b877991491eb4255236"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a single step of reloading of shaders.  <a href="#a683ff601529c9b877991491eb4255236">More...</a><br /></td></tr>
<tr class="separator:a683ff601529c9b877991491eb4255236"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad059f37a7ad04d05d0f9d20c1647121f"><td class="memItemLeft" align="right" valign="top"><a id="ad059f37a7ad04d05d0f9d20c1647121f"></a>
<a class="el" href="structAtmosphereParameters.html">AtmosphereParameters</a> const  &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>atmosphereParameters</b> () const</td></tr>
<tr class="separator:ad059f37a7ad04d05d0f9d20c1647121f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a59f35826e0dd8ece09aeb8653c7dc28d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59f35826e0dd8ece09aeb8653c7dc28d">&#9670;&nbsp;</a></span>AtmosphereRenderer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AtmosphereRenderer::AtmosphereRenderer </td>
          <td>(</td>
          <td class="paramtype">QOpenGLFunctions_3_3_Core &amp;&#160;</td>
          <td class="paramname"><em>gl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString const &amp;&#160;</td>
          <td class="paramname"><em>pathToData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classShowMySky_1_1Settings.html">ShowMySky::Settings</a> *&#160;</td>
          <td class="paramname"><em>tools</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(QOpenGLShaderProgram &amp;shprog)&gt; const &amp;&#160;</td>
          <td class="paramname"><em>drawSurface</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the constructor of the renderer. It saves the reference to <code>gl</code>, <code>tools</code> for later use (so these objects must outlive <a class="el" href="classAtmosphereRenderer.html">AtmosphereRenderer</a>), also saves the <code>drawSurface</code> callback. Then the model description file <code>params.atmo</code> inside the directory pointed to <code>pathToData</code> is parsed.</p>
<p>If an error occurs while parsing the model description file, <a class="el" href="classShowMySky_1_1Error.html" title="An error that ShowMySky classes may throw.">ShowMySky::Error</a> is thrown.</p>
<p>The callback function <code>drawSurface</code> has one parameter: a shader program <code>shprog</code> that includes, aside from the core atmosphere model GLSL code, the shaders <code>viewDirVertShaderSrc</code> and <code>viewDirFragShaderSrc</code> that have been passed to <a class="el" href="classAtmosphereRenderer.html#a11c3eb63ab50dbf137a94145a8647d11" title="Initialize step-by-step process of loading of data.">initDataLoading</a> method (this should be done by the application before any other calls). By the point when this callback is called, <code>shprog</code> has already been bound to current OpenGL context (via <code>glUseProgram</code>).</p>
<p>The purpose of <code>shprog</code> is to enable setting of the necessary uniform values via the <code>glUniform*</code> family of functions to make the drawing work. It also includes the <code>calcViewDir</code> function implemented in <code>viewDirVertShaderSrc</code> shader, so the necessary uniform values (if any) for the operation of <code>calcViewDir</code> should also to be set in this callback before issuing any draw calls.</p>
<p>To create an instance of <a class="el" href="classAtmosphereRenderer.html">AtmosphereRenderer</a> indirectly having <code>dlopen</code>ed the <code>ShowMySky</code> library, use <a class="el" href="api_2ShowMySky_2AtmosphereRenderer_8hpp.html#a9cb14ed91ad9de5d8578034a818b6121" title="Entry point for the creator of AtmosphereRenderer.">ShowMySky_AtmosphereRenderer_create</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gl</td><td>QtOpenGL-provided OpenGL 3.3 function resolver; </td></tr>
    <tr><td class="paramname">pathToData</td><td>path to the data directory of the atmosphere model that contains <code>params.atmo</code>; </td></tr>
    <tr><td class="paramname">tools</td><td>pointer to an implementation of the <a class="el" href="classShowMySky_1_1Settings.html" title="Scene settings for AtmosphereRenderer.">ShowMySky::Settings</a> interface; </td></tr>
    <tr><td class="paramname">drawSurface</td><td>a callback function that will be called each time a surface is to be rendered. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a63605f7566ea296dc642d15b3cf135a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63605f7566ea296dc642d15b3cf135a2">&#9670;&nbsp;</a></span>canGrabRadiance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AtmosphereRenderer::canGrabRadiance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Whether radiance of a pixel can be queried by a call to <a class="el" href="classAtmosphereRenderer.html#a9a4dd029984f7addad5c8021b8e2c949" title="Get spectral radiance of a pixel.">getPixelSpectralRadiance</a>. </dd></dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#a5488d41bd1dd66fb449f5fdccb32ff20">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a89ae69fd6ef8113e27a967491de5514b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89ae69fd6ef8113e27a967491de5514b">&#9670;&nbsp;</a></span>canRenderPrecomputedEclipsedDoubleScattering()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AtmosphereRenderer::canRenderPrecomputedEclipsedDoubleScattering </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The <code>calcmysky</code> utility has an option to disable generation of the texture for second-order scattering during solar eclipse. If this option was used for generation of the current atmosphere model, this function will return <code>false</code>. In this case, it is only valid for <a class="el" href="classShowMySky_1_1Settings.html#a76d17bd718b6c82e63c8d697cd04354d" title="Whether to render multiple scattering.">ShowMySky::Settings::multipleScatteringEnabled</a> to return <code>true</code> either with <a class="el" href="classShowMySky_1_1Settings.html#a96d804a9db20cd045d59f642032ea5e8" title="Whether double scattering should be precomputed on the fly when using eclipse shader.">ShowMySky::Settings::onTheFlyPrecompDoubleScatteringEnabled</a> returning <code>true</code>, or <a class="el" href="classShowMySky_1_1Settings.html#a6ba1695407951f22f1eb45990528a898" title="Whether to use shader designed to render eclipse atmosphere.">ShowMySky::Settings::usingEclipseShader</a> returning <code>false</code>.</p>
<dl class="section return"><dt>Returns</dt><dd>Whether precomputed eclipsed double scattering can be rendered. </dd></dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#a23a096ab7214bcb25a41bc9f03b3ab7f">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a1bd1c96f64d1ce5334bff62575e8c6ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bd1c96f64d1ce5334bff62575e8c6ed">&#9670;&nbsp;</a></span>canSetSolarSpectrum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AtmosphereRenderer::canSetSolarSpectrum </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Whether solar spectrum can be set by a call to <a class="el" href="classAtmosphereRenderer.html#a9123391205459d61a0591df04bb04a86" title="Set a custom solar spectrum.">setSolarSpectrum</a>. </dd></dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#a053361dfa4c64c424f180223b1f010c9">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a72e8ceef42a100a95a5613b3e852cf7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72e8ceef42a100a95a5613b3e852cf7e">&#9670;&nbsp;</a></span>currentActivity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString AtmosphereRenderer::currentActivity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is a string intended for the user to see what's going on, e.g. "Loading textures and shaders...". </p>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#ac6cc25389dc98b993157c004a98debd4">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a282137759e06a491c78e881d357aaf9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a282137759e06a491c78e881d357aaf9b">&#9670;&nbsp;</a></span>draw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AtmosphereRenderer::draw </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>brightness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>clear</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is the method that performs all the drawing logic.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">brightness</td><td>relative brightness of the scene. 0 effectively means draw nothing (or NaNs in case of broken textures or shaders), 1 means normal brightness. </td></tr>
    <tr><td class="paramname">clear</td><td>whether to clear the screen surface to zeros prior to drawing. This can be set to <code>false</code> to accumulate subsequent draws, and to <code>true</code> to draw the first render. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#a0e540b9fba02316c3c114264f1b898db">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a18aa6ae8e8c4c40adde5449ee617106f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18aa6ae8e8c4c40adde5449ee617106f">&#9670;&nbsp;</a></span>getLuminanceTexture()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GLuint AtmosphereRenderer::getLuminanceTexture </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method returns the OpenGL name suitable for use with <code>glBindTexture</code> for the render target containing photopic and scotopic luminance values packed into <code>vec4</code> pixels (see <a class="el" href="classAtmosphereRenderer.html#afd0991f86e5ec95f8e43c2f901afb0b0" title="Get luminance of a pixel.">getPixelLuminance</a> for details). This is the main output of <a class="el" href="classAtmosphereRenderer.html#a282137759e06a491c78e881d357aaf9b" title="Do the drawing.">draw</a> that can be used to finally render the data to screen in the desired color space.</p>
<dl class="section return"><dt>Returns</dt><dd>OpenGL name of the luminance render target. </dd></dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#a242b0ea9cbad2b4032ed24babe895d9f">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="afd0991f86e5ec95f8e43c2f901afb0b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd0991f86e5ec95f8e43c2f901afb0b0">&#9670;&nbsp;</a></span>getPixelLuminance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVector4D AtmosphereRenderer::getPixelLuminance </td>
          <td>(</td>
          <td class="paramtype">QPoint const &amp;&#160;</td>
          <td class="paramname"><em>pixelPos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method obtains luminance of the pixel specified by <code>pixelPos</code>. First three components of the 4D vector are the CIE 1931 tristimulus values in lumens, while the fourth one is the scotopic luminance in lumens (CIE 1951).</p>
<p>Maximum luminous efficacy is 683.002 lm/W for photopic values and 1700.13 lm/W for scotopic ones. Reference: Rapport BIPM-2019/05. Principles Governing Photometry, 2nd edition. Sections 6.2, 6.3.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pixelPos</td><td>pixel position in window coordinates: (0,0) corresponds to top-left point. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Luminance of the pixel specified. </dd></dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#adfff7b0a625ca58d4c13a05d12a052f8">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a9a4dd029984f7addad5c8021b8e2c949"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a4dd029984f7addad5c8021b8e2c949">&#9670;&nbsp;</a></span>getPixelSpectralRadiance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto AtmosphereRenderer::getPixelSpectralRadiance </td>
          <td>(</td>
          <td class="paramtype">QPoint const &amp;&#160;</td>
          <td class="paramname"><em>pixelPos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method obtains spectral radiance of the pixel specified by <code>pixelPos</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pixelPos</td><td>pixel position in window coordinates: (0,0) corresponds to top-left point. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Spectral radiance of the pixel specified. </dd></dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#aa8650dacd262ba8c00500041e2e299ee">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a323e0e900ea0fe800586b0de1e8441df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a323e0e900ea0fe800586b0de1e8441df">&#9670;&nbsp;</a></span>getViewDirection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto AtmosphereRenderer::getViewDirection </td>
          <td>(</td>
          <td class="paramtype">QPoint const &amp;&#160;</td>
          <td class="paramname"><em>pixelPos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method obtains view direction corresponding to the pixel specified by <code>pixelPos</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pixelPos</td><td>pixel position in window coordinates: (0,0) corresponds to top-left point. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>View direction of the pixel specified. </dd></dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#ab2579d4d05e6052c2e7c0c20860da158">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a114c0268e2c9e20063756ba3c30db11b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a114c0268e2c9e20063756ba3c30db11b">&#9670;&nbsp;</a></span>getWavelengths()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; float &gt; AtmosphereRenderer::getWavelengths </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>All the wavelengths used in computations, in nanometers. </dd></dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#af1b39be60584ee83d23ce7d6d1cfd651">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a11c3eb63ab50dbf137a94145a8647d11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11c3eb63ab50dbf137a94145a8647d11">&#9670;&nbsp;</a></span>initDataLoading()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int AtmosphereRenderer::initDataLoading </td>
          <td>(</td>
          <td class="paramtype">QByteArray&#160;</td>
          <td class="paramname"><em>viewDirVertShaderSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QByteArray&#160;</td>
          <td class="paramname"><em>viewDirFragShaderSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::pair&lt; std::string, GLuint &gt;&gt;&#160;</td>
          <td class="paramname"><em>viewDirBindAttribLocations</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method initializes the process of loading of shaders and textures for the current atmosphere model. The actual loading is done step-by-step by calling <a class="el" href="classAtmosphereRenderer.html#ab883a6c0ebf068f47f4ba3a5e81968e5" title="Perform a single step of data loading.">stepDataLoading</a>.</p>
<p>The fragment shader <code>viewDirFragShaderSrc</code> passed here implements <code>vec3 calcViewDir(void)</code> function that is used as an application-agnostic way of determining view direction of the ray associated with a given fragment of the surface being rendered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">viewDirVertShaderSrc</td><td>a vertex shader that will be used by all the shader programs that implement the atmosphere model; </td></tr>
    <tr><td class="paramname">viewDirFragShaderSrc</td><td>a fragment shader that implements <code>calcViewDir</code> function; </td></tr>
    <tr><td class="paramname">viewDirBindAttribLocations</td><td>locations of vertex attributes necessary to render the screen surface. Each <code>pair</code> consists of an attribute name and its location. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Total number of loading steps to complete the loading. </dd></dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#a1e6e3e7f90c728eccf0e9ac3fc9aa0b7">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a01ffc3caaf58cf055c627ae9f40ec25a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01ffc3caaf58cf055c627ae9f40ec25a">&#9670;&nbsp;</a></span>initPreparationToDraw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int AtmosphereRenderer::initPreparationToDraw </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The renderer loads different slices of textures depending on current scene parameters (e.g. altitude). Whenever such parameters change, it may become necessary to reload another slice.</p>
<p>The application might want to show a progress indicator for this reloading process. In this case, calling this method will initialize the process if it's needed and tell whether there's anything to do (return value is positive). If the return value is positive, <a class="el" href="classAtmosphereRenderer.html#a22303d42859fa80ce0223f1361888035" title="Perform a single step of preparation to draw.">stepPreparationToDraw</a> should be called repeatedly until its return value indicates completion (or failure).</p>
<p>If there's no need for progress indication, this function (and <a class="el" href="classAtmosphereRenderer.html#a22303d42859fa80ce0223f1361888035" title="Perform a single step of preparation to draw.">stepPreparationToDraw</a>) can be ignored. Otherwise, use this method to initialize the process of reloading data.</p>
<p>This method can also be called during the preparation to render to find out the number of steps to do.</p>
<dl class="section return"><dt>Returns</dt><dd>Total number of loading steps to complete the preparation. </dd></dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#a86576414d9bde47e40d806682a115ce4">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a03ba3bd83dff5408dc008f507ace3ac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03ba3bd83dff5408dc008f507ace3ac0">&#9670;&nbsp;</a></span>initShaderReloading()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int AtmosphereRenderer::initShaderReloading </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is a debug method. It initializes the process of reloading of shaders for the current atmosphere model. The actual reloading is done step-by-step by calling <a class="el" href="classAtmosphereRenderer.html#a683ff601529c9b877991491eb4255236" title="Perform a single step of reloading of shaders.">stepShaderReloading</a>.</p>
<p>The reloading can be used to quickly update the current model when a shader has been edited or regenerated with another parameters. </p>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#a00bc204929b1e731a782400cf2968ba3">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a8ba975056142f0ccab7494b347006546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ba975056142f0ccab7494b347006546">&#9670;&nbsp;</a></span>isLoading()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AtmosphereRenderer::isLoading </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Whether the renderer is in process of loading data. </dd></dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#aa89751574becbdbe760ed9010815c098">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a12a835864d8fe8cbd91a577613af1461"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12a835864d8fe8cbd91a577613af1461">&#9670;&nbsp;</a></span>isReadyToRender()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AtmosphereRenderer::isReadyToRender </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Whether the renderer is ready to render via the <a class="el" href="classAtmosphereRenderer.html#a282137759e06a491c78e881d357aaf9b" title="Do the drawing.">draw</a> method. </dd></dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#a2e50ddc43a31c61a3ed0c703226b4e2a">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="af160066fc979dcb84cefaeda54925aa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af160066fc979dcb84cefaeda54925aa8">&#9670;&nbsp;</a></span>resetSolarSpectrum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AtmosphereRenderer::resetSolarSpectrum </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method undoes what <a class="el" href="classAtmosphereRenderer.html#a9123391205459d61a0591df04bb04a86" title="Set a custom solar spectrum.">setSolarSpectrum</a> did, returning the current spectrum to the one used by <code>calcmysky</code> utility when generating the textures. </p>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#aa4e3b201ed4ab7367ea19ed15c103e92">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a524cdcde73031292b534c17e4e2e874a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a524cdcde73031292b534c17e4e2e874a">&#9670;&nbsp;</a></span>resizeEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AtmosphereRenderer::resizeEvent </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method should be called whenever the render target changes its size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>width of the render target; </td></tr>
    <tr><td class="paramname">height</td><td>height of the rener target. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#a178358158a7a0668f1cba630d23b6eda">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a9fbc8368a0e809ecbd10b6fe107ed4dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fbc8368a0e809ecbd10b6fe107ed4dc">&#9670;&nbsp;</a></span>setDrawSurfaceCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AtmosphereRenderer::setDrawSurfaceCallback </td>
          <td>(</td>
          <td class="paramtype">std::function&lt; void(QOpenGLShaderProgram &amp;shprog)&gt; const &amp;&#160;</td>
          <td class="paramname"><em>drawSurface</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method sets a callback function that will be called each time a surface is to be rendered.</p>
<p>The callback has one parameter: a shader program <code>shprog</code> that includes, aside from the core atmosphere model GLSL code, the shaders <code>viewDirVertShaderSrc</code> and <code>viewDirFragShaderSrc</code> that were passed to <a class="el" href="classAtmosphereRenderer.html#a11c3eb63ab50dbf137a94145a8647d11" title="Initialize step-by-step process of loading of data.">initDataLoading</a> method (or to the constructor of <a class="el" href="classAtmosphereRenderer.html">AtmosphereRenderer</a>). By the point when this callback is called, <code>shprog</code> has already been bound to current OpenGL context (via <code>glUseProgram</code>).</p>
<p>The purpose of <code>shprog</code> is to enable setting of the necessary uniform values via the <code>glUniform*</code> family of functions to make the drawing work. It also includes the <code>calcViewDir</code> function implemented in <code>viewDirVertShaderSrc</code> shader, so the necessary uniform values (if any) for the operation of <code>calcViewDir</code> should also to be set in this callback before issuing any draw calls.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">drawSurface</td><td>the callback that renders the surface. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#ae23c5b2bdb87521aa2b9161a55438ff7">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a5b68ac9aa440f6ffba59d90f811e3ba5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b68ac9aa440f6ffba59d90f811e3ba5">&#9670;&nbsp;</a></span>setScattererEnabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AtmosphereRenderer::setScattererEnabled </td>
          <td>(</td>
          <td class="paramtype">QString const &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is a debug option that lets one toggle a single-scattering layer associated with a particular scattering species.</p>
<p>This option doesn't affect transmittance of air, it only controls whether first-order inscattered light from the species specified is included in the render.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>name of the species, as given in the <code>Scatterer</code> section of the model description file; </td></tr>
    <tr><td class="paramname">enable</td><td>whether first-order inscattered light from this species should be rendered. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#a1a6799d5ff2d6d6a3e11ee8a4399b9a0">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a9123391205459d61a0591df04bb04a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9123391205459d61a0591df04bb04a86">&#9670;&nbsp;</a></span>setSolarSpectrum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AtmosphereRenderer::setSolarSpectrum </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; float &gt; const &amp;&#160;</td>
          <td class="paramname"><em>spectralIrradianceAtTOA</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method lets one change the solar spectrum that was used in computations by <code>calcmysky</code> utility, to aid easy switching between types of the illuminating star.</p>
<p>This method can only be called if <a class="el" href="classAtmosphereRenderer.html#a1bd1c96f64d1ce5334bff62575e8c6ed" title="Tell whether solar spectrum can be changed.">canSetSolarSpectrum</a> returns <code>true</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spectralIrradianceAtTOA</td><td>Spectral irradiance at the top of atmosphere (i.e. at the highest altitude for which the model has data), in \(\mathrm{\frac{W}{m^2\,sr\,nm}}\). </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#a24a3e255a9eeed610219dc50c1edbf59">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a312355e92b37feae28f1fe5dd6799625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a312355e92b37feae28f1fe5dd6799625">&#9670;&nbsp;</a></span>setViewDirShaders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AtmosphereRenderer::setViewDirShaders </td>
          <td>(</td>
          <td class="paramtype">QByteArray&#160;</td>
          <td class="paramname"><em>viewDirVertShaderSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QByteArray&#160;</td>
          <td class="paramname"><em>viewDirFragShaderSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::pair&lt; std::string, GLuint &gt;&gt;&#160;</td>
          <td class="paramname"><em>viewDirBindAttribLocations</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method lets the user change the way view direction is computed (e.g. to switch projections). The new vertex and fragment shaders replace the old ones that initially are passed to <a class="el" href="classAtmosphereRenderer.html#a11c3eb63ab50dbf137a94145a8647d11" title="Initialize step-by-step process of loading of data.">initDataLoading</a>. This action may take some time because it causes relinking of all the shader programs in use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">viewDirVertShaderSrc</td><td>a vertex shader that will be used by all the shader programs that implement the atmosphere model; </td></tr>
    <tr><td class="paramname">viewDirFragShaderSrc</td><td>a fragment shader that implements <code>calcViewDir</code> function; </td></tr>
    <tr><td class="paramname">viewDirBindAttribLocations</td><td>locations of vertex attributes necessary to render the screen surface. Each <code>pair</code> consists of an attribute name and its location. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#a48aac5c18c959854fd9268c593cbd5ec">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="ab883a6c0ebf068f47f4ba3a5e81968e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab883a6c0ebf068f47f4ba3a5e81968e5">&#9670;&nbsp;</a></span>stepDataLoading()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto AtmosphereRenderer::stepDataLoading </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method performs a single step of data loading. </p><dl class="section return"><dt>Returns</dt><dd>Status of data loading process: progress, error indication. </dd></dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#ae24c7d91e27d66f55594be037480d4c7">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a22303d42859fa80ce0223f1361888035"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22303d42859fa80ce0223f1361888035">&#9670;&nbsp;</a></span>stepPreparationToDraw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto AtmosphereRenderer::stepPreparationToDraw </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method performs a single step of preparation to draw started by <a class="el" href="classAtmosphereRenderer.html#a01ffc3caaf58cf055c627ae9f40ec25a" title="Initialize step-by-step process of preparation to render.">initPreparationToDraw</a>. </p><dl class="section return"><dt>Returns</dt><dd>Status of preparation process: progress, error indication. </dd></dl>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#aa8ee069016fd3cd836d8322bcb58ed79">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<a id="a683ff601529c9b877991491eb4255236"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a683ff601529c9b877991491eb4255236">&#9670;&nbsp;</a></span>stepShaderReloading()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto AtmosphereRenderer::stepShaderReloading </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is a debug method. It performs a single step of the process of reloading of shaders initialized by <a class="el" href="classAtmosphereRenderer.html#a03ba3bd83dff5408dc008f507ace3ac0" title="Initialize step-by-step process of reloading of shaders.">initShaderReloading</a>. </p>

<p>Implements <a class="el" href="classShowMySky_1_1AtmosphereRenderer.html#abf879b57a9b6ea0b6370b17f36079cc3">ShowMySky::AtmosphereRenderer</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ShowMySky/<a class="el" href="AtmosphereRenderer_8hpp_source.html">AtmosphereRenderer.hpp</a></li>
<li>ShowMySky/AtmosphereRenderer.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
